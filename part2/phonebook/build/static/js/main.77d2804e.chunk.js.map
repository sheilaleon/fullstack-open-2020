{"version":3,"sources":["services/numbers.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["BASE_URL","axios","get","newObject","post","id","put","delete","Filter","props","searchTerm","handleChange","className","htmlFor","type","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","style","paddingTop","Person","name","number","handleDelete","onClick","Persons","persons","showAll","personsToShow","filter","person","toLowerCase","includes","map","Notification","notification","notificationState","App","displayNotification","setTimeout","setNotification","setNotificationState","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setShowAll","useEffect","numbersService","then","response","data","event","target","preventDefault","personObject","some","e","window","confirm","updatePerson","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77d2804e.chunk.js","sourcesContent":["import axios from 'axios';\nconst BASE_URL = '/api/persons';\n\nconst getAll = () => {\n  return axios.get(BASE_URL);\n};\n\nconst create = (newObject) => {\n  return axios.post(BASE_URL, newObject);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${BASE_URL}/${id}`, newObject);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${BASE_URL}/${id}`);\n};\n\n// eslint-disable-next-line\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n};\n","import React from 'react';\n\nconst Filter = (props) => {\n  const { searchTerm, handleChange } = props;\n  return (\n    <div className=\"search\">\n      <label htmlFor=\"search\">Filter shown with </label>\n      <input\n        id=\"search\"\n        type=\"text\"\n        value={searchTerm}\n        onChange={handleChange}\n      ></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = (props) => {\n  const {\n    addPerson,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange,\n  } = props;\n\n  return (\n    <form onSubmit={addPerson}>\n      <div className=\"input-field\">\n        <label htmlFor=\"name\">Name</label>\n        <input\n          id=\"name\"\n          type=\"text\"\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div className=\"input-field\">\n        <label htmlFor=\"number\">Number</label>\n        <input\n          id=\"number\"\n          type=\"tel\"\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div style={{ paddingTop: '1rem' }}>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ name, number, id, handleDelete }) => {\n  return (\n    <li>\n      <strong>{name}:</strong> {number}{' '}\n      <button className=\"delete\" onClick={() => handleDelete(id, name)}>\n        Delete\n      </button>\n    </li>\n  );\n};\n\nconst Persons = (props) => {\n  const { persons, showAll, searchTerm, handleDelete } = props;\n  const personsToShow = showAll\n    ? persons\n    : persons.filter((person) =>\n        person.name.toLowerCase().includes(searchTerm.toLowerCase()),\n      );\n\n  return (\n    <ul>\n      {personsToShow.map((person) => (\n        <Person\n          key={person.id}\n          name={person.name}\n          id={person.id}\n          number={person.number}\n          handleDelete={handleDelete}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ notification, notificationState }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return (\n    <div className={`notification ${notificationState}`}>\n      <p>{notification}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\n\nimport numbersService from './services/numbers';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  function personExists(value, array) {\n    return array.some((e) => e.name === value);\n  }\n\n  function displayNotification() {\n    setTimeout(() => {\n      setNotification(null);\n      setNotificationState(null);\n    }, 5000);\n  }\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n  const [notificationState, setNotificationState] = useState(null);\n\n  useEffect(() => {\n    numbersService.getAll().then((response) => {\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setShowAll(false);\n    setSearchTerm(event.target.value);\n  };\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      numbersService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`${name} has been removed.`);\n          setNotificationState('success');\n          displayNotification();\n        })\n        .catch((error) => {\n          setNotification(`Information of ${name} has already been removed.`);\n          setNotificationState('error');\n          displayNotification();\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (personExists(newName, persons)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`,\n        )\n      ) {\n        const updatePerson = persons.filter(\n          (person) => person.name === newName,\n        );\n        numbersService\n          .update(updatePerson[0].id, personObject)\n          .then((response) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== updatePerson[0].id ? person : response.data,\n              ),\n            );\n            setNotification(\n              `${updatePerson[0].name}'s number has been updated.`,\n            );\n            setNotificationState('success');\n            displayNotification();\n          });\n      }\n    } else {\n      numbersService\n        .create(personObject)\n        .then((response) => {\n          setPersons(persons.concat(response.data));\n          setNotification(`Added ${response.data.name}.`);\n          setNotificationState('success');\n          displayNotification();\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          setNotification(`${error.response.data.error}`);\n          setNotificationState('error');\n          displayNotification();\n        });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>Phonebook</h2>\n      <Notification\n        notification={notification}\n        notificationState={notificationState}\n      />\n      <Filter searchTerm={searchTerm} handleChange={handleSearchChange} />\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={persons}\n        searchTerm={searchTerm}\n        showAll={showAll}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}